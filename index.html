<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InDoc - Edita texto con IA gratuitamente</title>
    <meta name="description" content="Editor de texto con IA integrada gratuito, privado y open-source" />
    
    <!-- Quill CSS -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    
    <!-- El CSS de la página -->
    <link rel="stylesheet" href="main.css">

    <!--El CSS de la barra lateral-->
     <link rel="stylesheet" href="sidebar.css">

    <link rel="stylesheet" href="aipowered.css">
    
    <!-- Font Awesome para iconos -->
     <!-- No usamos el kit de fontawesome por que es un lío-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>

  <!--La barra lateral de la InSuite-->
  <div class="sidebar">
  <a href="https://insuite.inled.es" class="sidebar-item" style="text-decoration: none; color: white;">
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M240-200h120v-200q0-17 11.5-28.5T400-440h160q17 0 28.5 11.5T600-400v200h120v-360L480-740 240-560v360Zm-80 0v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H560q-17 0-28.5-11.5T520-160v-200h-80v200q0 17-11.5 28.5T400-120H240q-33 0-56.5-23.5T160-200Zm320-270Z"/></svg>
  </a>
  <a href="https://insuite.inled.es/apps" class="sidebar-item active" style="text-decoration: none; color: white;">
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M240-160q-33 0-56.5-23.5T160-240q0-33 23.5-56.5T240-320q33 0 56.5 23.5T320-240q0 33-23.5 56.5T240-160Zm240 0q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm240 0q-33 0-56.5-23.5T640-240q0-33 23.5-56.5T720-320q33 0 56.5 23.5T800-240q0 33-23.5 56.5T720-160ZM240-400q-33 0-56.5-23.5T160-480q0-33 23.5-56.5T240-560q33 0 56.5 23.5T320-480q0 33-23.5 56.5T240-400Zm240 0q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm240 0q-33 0-56.5-23.5T640-480q0-33 23.5-56.5T720-560q33 0 56.5 23.5T800-480q0 33-23.5 56.5T720-400ZM240-640q-33 0-56.5-23.5T160-720q0-33 23.5-56.5T240-800q33 0 56.5 23.5T320-720q0 33-23.5 56.5T240-640Zm240 0q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Zm240 0q-33 0-56.5-23.5T640-720q0-33 23.5-56.5T720-800q33 0 56.5 23.5T800-720q0 33-23.5 56.5T720-640Z"/></svg>
  </a>
  <a href="https://insuite.inled.es/status" class="sidebar-item" style="text-decoration: none; color: white;">
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M260-160q-91 0-155.5-63T40-377q0-78 47-139t123-78q25-92 100-149t170-57q117 0 198.5 81.5T760-520q69 8 114.5 59.5T920-340q0 75-52.5 127.5T740-160H260Zm0-80h480q42 0 71-29t29-71q0-42-29-71t-71-29h-60v-80q0-83-58.5-141.5T480-720q-83 0-141.5 58.5T280-520h-20q-58 0-99 41t-41 99q0 58 41 99t99 41Zm220-240Z"/></svg>
  </a>
</div>


    <div class="app-container">
        <!-- Header con toolbar estilo Microsoft -->
        <header class="header">
            <div class="header-top">
                <div class="app-title">
                    <img src="INDOC.png" width="auto" height="30px">
                    InDoc | Editor de texto gratuito con IA
                </div>
            </div>
            
            <!-- Toolbar principal -->
            <div class="toolbar">
                <div class="toolbar-section">
                    <button class="toolbar-btn" id="new-doc" title="Nuevo documento">
                        <i class="fas fa-file"></i>
                        <span>Nuevo</span>
                    </button>
                    <button class="toolbar-btn" id="open-doc" title="Abrir documento">
                        <i class="fas fa-folder-open"></i>
                        <span>Abrir</span>
                    </button>
                    <button class="toolbar-btn" id="save-doc" title="Guardar en navegador">
                        <i class="fas fa-save"></i>
                        <span>Guardar</span>
                    </button>
                    <!--Guarda en la memoria del navegador-->
                </div>
                
                <div class="toolbar-separator"></div>

                <!-- Botones de exportación -->
                <div class="toolbar-section">
                    <button class="toolbar-btn" id="export-pdf" title="Exportar a PDF">
                        <i class="fas fa-file-pdf"></i>
                        <span>PDF</span>
                    </button>
                    <button class="toolbar-btn" id="export-txt" title="Exportar a TXT">
                        <i class="fas fa-file-alt"></i>
                        <span>TXT</span>
                    </button>
                </div>
                
                <div class="toolbar-separator"></div>
                
                <!--Aquí está la IA de Inled. A lo mejor debería hacer más grande el icono pero se me descoloca todo-->
                <div class="toolbar-section">
                    <button class="toolbar-btn" id="toggle-chat" title="Hablar con la inteligencia artificial de Inled.">
                        <img src="inledai.svg" alt="logo Inled AI" class="ailogo">
                        <span>Chat IA</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Contenido principal -->
        <main class="main-content">
            <!-- Panel del editor -->
            <div class="editor-panel">
                <div class="editor-toolbar" id="toolbar"></div>
                <div class="editor-container">
                    <div id="editor"></div>
                </div>
            </div>

            <!-- Panel del chat (inicialmente oculto) -->
            <div class="chat-panel" id="chat-panel">
                <div class="chat-header">
                    <h3><img src="inledai.svg" alt="logo Inled AI" class="ailogo"> Inled AI</h3>
                    <button class="chat-close" id="chat-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="chat-status" id="chat-status">
                    <div class="loading-spinner"></div>
                    <span>Cargando modelo de IA...</span>
                </div>
                
                <div class="chat-messages" id="chat-messages"></div>
                
                <div class="chat-input-container">
                    <textarea 
                        id="chat-input" 
                        placeholder="Habla aquí con la IA..."
                        rows="3"
                        disabled
                    ></textarea>
                    <div class="chat-actions">
                        <button id="send-message" class="chat-btn primary" disabled>
                            <i class="fas fa-paper-plane"></i>
                            Enviar
                        </button>
                        <button id="insert-response" class="chat-btn secondary" disabled>
                            <i class="fas fa-plus"></i>
                            Insertar
                        </button>
                        <button id="copy-response" class="chat-btn secondary" disabled>
                            <i class="fas fa-copy"></i>
                            Copiar
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <div class="floating-card">
        <img src="https://new.inled.es/upload/inledai.svg" alt="Inled AI Icon" class="floating-card-icon">
        <a href="https://ai.inled.es" class="floating-card-text" style="text-decoration: none;">Funciona gracias a Inled AI</a>
    </div>

    <!-- Importaciones de scripts -->

    <!--Quill, el editor en el que se basa todo el percal-->
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>

    <!--JSPDF-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- Html2Canvas para transformar el html en pdf-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <!-- Marked para renderizar el markdown que nos genera nuestra IA -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>

    <!--El módulo que le da la funcionalidad a todo esto-->
    <script type="module" src="main.js"></script>
</body>
</html>
